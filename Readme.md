# Личный проект «Что посмотреть»

* Студент: [Вячеслав Корзун](https://htmlacademy.ru/profile/id240581).
* Наставник: [Денис Дудин](https://htmlacademy.ru/profile/id112510).

# О проекте

* «Что посмотреть» — онлайн кинотеатр нового поколения. Смотрите новинки абсолютно бесплатно и в лучшем качестве. Оставляйте отзывы, ставьте оценки и выбирайте только лучшее из мира большого кино.

# Спецификация проекта

https://10.react.pages.academy/static/spec/wtw.yaml

# Внешний API получения информации о фильмах

1. [Omdb API](https://omdbapi.com/)
2. [HTML Academy API](http://guide.phpdemo.ru/api/documentation)

# Инструкция по развёртыванию

1. Сохраните у себя файлы проекта  

2. Установите Laravel в папку с проектом с помощью Laravel Sail и Docker как указано здесь:
https://laravel.su/docs/8.x/installation

3. Примеры настройки файла .env имеются в файле .env.example

    Проверьте правильность имени базы данных, пользователя и пароля. 
    Также установите параметр QUEUE_CONNECTION в QUEUE_CONNECTION=database 

4. Обязательно внесите файл .env в .gitignore!

5. Запустите миграции командой:
    ./vendor/bin/sail artisan migrate

6. По желанию, Вы можете наполнить свою базу данных фиктивными данными с помощью команды:
    ./vendor/bin/sail artisan db:seed

7. Встроенные тесты

    Внимание!
    Имеющиеся в проекте тесты сбрасывают базу данных!
    Поэтому, чтобы не повредить данные в рабочей базе проекта, проводите тесты с подключением к тестовой базе данных.

    Для этого Вам необходимо в корне проекта создать файл .env.testing

    Скопируйте в него содержимое из Вашего файла .env и поменяйте DB_DATABASE=data_base_name на какое-либо другое имя, например, data_base_name_test. Создайте БД с таким именем.

    Теперь Вы можете запускать тесты с помощью команды
    ./vendor/bin/sail artisan test

    При этом фейковыми данными, необходимыми для тестов, будет наполнятся БД data_base_name_test.
    Ваша рабочая БД будет незатронута!


